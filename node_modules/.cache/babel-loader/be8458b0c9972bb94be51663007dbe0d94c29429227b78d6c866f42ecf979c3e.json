{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";function Notifications(){const[notifications,setNotifications]=useState([]);const wsURL=process.env.REACT_APP_API_URL.replace('http','ws')+'/ws';useEffect(()=>{const ws=new WebSocket(wsURL);ws.onmessage=event=>{const data=JSON.parse(event.data);if(data.type==='notification'){setNotifications(notifs=>[...notifs,data.message]);}};return()=>{ws.close();};},[]);return/*#__PURE__*/_jsx(\"div\",{children:notifications.map((notif,index)=>/*#__PURE__*/_jsx(\"div\",{children:notif},index))});}export default Notifications;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","Notifications","notifications","setNotifications","wsURL","process","env","REACT_APP_API_URL","replace","ws","WebSocket","onmessage","event","data","JSON","parse","type","notifs","message","close","children","map","notif","index"],"sources":["/home/tladuke/real-time-chat-app/src/components/Notifications.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nfunction Notifications() {\n    const [notifications, setNotifications] = useState([]);\n    const wsURL = process.env.REACT_APP_API_URL.replace('http', 'ws') + '/ws';\n\n    useEffect(() => {\n        const ws = new WebSocket(wsURL);\n\n        ws.onmessage = (event) => {\n            const data = JSON.parse(event.data);\n            if (data.type === 'notification') {\n                setNotifications(notifs => [...notifs, data.message]);\n            }\n        };\n\n        return () => {\n            ws.close();\n        };\n    }, []);\n\n    return (\n        <div>\n            {notifications.map((notif, index) => (\n                <div key={index}>{notif}</div>\n            ))}\n        </div>\n    );\n}\n\nexport default Notifications;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEnD,QAAS,CAAAC,aAAaA,CAAA,CAAG,CACrB,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGL,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAAAM,KAAK,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAACC,OAAO,CAAC,MAAM,CAAE,IAAI,CAAC,CAAG,KAAK,CAEzEX,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAY,EAAE,CAAG,GAAI,CAAAC,SAAS,CAACN,KAAK,CAAC,CAE/BK,EAAE,CAACE,SAAS,CAAIC,KAAK,EAAK,CACtB,KAAM,CAAAC,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACH,KAAK,CAACC,IAAI,CAAC,CACnC,GAAIA,IAAI,CAACG,IAAI,GAAK,cAAc,CAAE,CAC9Bb,gBAAgB,CAACc,MAAM,EAAI,CAAC,GAAGA,MAAM,CAAEJ,IAAI,CAACK,OAAO,CAAC,CAAC,CACzD,CACJ,CAAC,CAED,MAAO,IAAM,CACTT,EAAE,CAACU,KAAK,CAAC,CAAC,CACd,CAAC,CACL,CAAC,CAAE,EAAE,CAAC,CAEN,mBACInB,IAAA,QAAAoB,QAAA,CACKlB,aAAa,CAACmB,GAAG,CAAC,CAACC,KAAK,CAAEC,KAAK,gBAC5BvB,IAAA,QAAAoB,QAAA,CAAkBE,KAAK,EAAbC,KAAmB,CAChC,CAAC,CACD,CAAC,CAEd,CAEA,cAAe,CAAAtB,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}